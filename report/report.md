./profiler.sh -d 90 -e lock -f hw4lock_put.html 712  
./profiler.sh -d 90 -e alloc -f hw4alloc_put.html 712  
./profiler.sh -d 90 -f hw4cpu_put.html 712

root@DESKTOP-E01FUOQ:~/wrk2# wrk -c 120 -t 3 -d 2m -R 5000 -L -s put.lua http://localhost:8080  
Running 2m test @ http://localhost:8080  
3 threads and 120 connections  
Thread calibration: mean lat.: 2.723ms, rate sampling interval: 10ms  
Thread calibration: mean lat.: 2.713ms, rate sampling interval: 10ms  
Thread calibration: mean lat.: 2.663ms, rate sampling interval: 10ms  
Thread Stats   Avg      Stdev     Max   +/- Stdev  
Latency    12.14ms   77.55ms   1.01s    98.28%  
Req/Sec     1.78k   538.30     9.67k    82.58%  
Latency Distribution (HdrHistogram - Recorded Latency)    
50.000%    2.26ms   
75.000%    3.29ms  
90.000%    5.39ms  
99.000%  451.84ms  
99.900%  950.78ms  
99.990%  996.35ms  
99.999%    1.01s  
100.000%    1.01s  

Detailed Percentile spectrum:  
Value   Percentile   TotalCount 1/(1-Percentile)  

       0.284     0.000000            1         1.00
       1.193     0.100000        54922         1.11
       1.480     0.200000       109986         1.25
       1.731     0.300000       164860         1.43
       1.983     0.400000       219649         1.67
       2.259     0.500000       274683         2.00
       2.411     0.550000       302123         2.22
       2.579     0.600000       329436         2.50
       2.773     0.650000       356917         2.86
       3.003     0.700000       384401         3.33
       3.285     0.750000       411778         4.00
       3.463     0.775000       425618         4.44
       3.669     0.800000       439297         5.00
       3.927     0.825000       452999         5.71
       4.255     0.850000       466811         6.67
       4.703     0.875000       480449         8.00
       5.003     0.887500       487262         8.89
       5.387     0.900000       494113        10.00
       5.899     0.912500       501006        11.43
       6.587     0.925000       507845        13.33
       7.575     0.937500       514697        16.00
       8.239     0.943750       518147        17.78
       9.079     0.950000       521574        20.00
      10.095     0.956250       524991        22.86
      11.431     0.962500       528429        26.67
      13.375     0.968750       531859        32.00
      14.935     0.971875       533572        35.56
      17.583     0.975000       535293        40.00
      23.231     0.978125       537001        45.71
      51.039     0.981250       538719        53.33
     144.383     0.984375       540432        64.00
     232.959     0.985938       541291        71.11
     317.951     0.987500       542150        80.00
     401.151     0.989062       543006        91.43
     488.191     0.990625       543864       106.67
     577.023     0.992188       544725       128.00
     617.983     0.992969       545152       142.22
     659.455     0.993750       545579       160.00
     702.975     0.994531       546010       182.86
     745.471     0.995313       546438       213.33
     787.967     0.996094       546867       256.00
     810.495     0.996484       547082       284.44
     832.511     0.996875       547298       320.00
     854.015     0.997266       547510       365.71
     876.031     0.997656       547732       426.67
     895.487     0.998047       547945       512.00
     906.239     0.998242       548046       568.89
     918.015     0.998437       548160       640.00
     928.255     0.998633       548261       731.43
     940.031     0.998828       548367       853.33
     951.807     0.999023       548475      1024.00
     958.463     0.999121       548528      1137.78
     964.095     0.999219       548584      1280.00
     969.215     0.999316       548641      1462.86
     974.335     0.999414       548695      1706.67
     978.431     0.999512       548742      2048.00
     980.479     0.999561       548770      2275.56
     982.527     0.999609       548799      2560.00
     984.575     0.999658       548824      2925.71
     986.623     0.999707       548851      3413.33
     989.183     0.999756       548880      4096.00
     990.207     0.999780       548893      4551.11
     991.231     0.999805       548904      5120.00
     992.255     0.999829       548918      5851.43
     993.279     0.999854       548932      6826.67
     994.815     0.999878       548945      8192.00
     995.839     0.999890       548951      9102.22
     996.863     0.999902       548960     10240.00
     997.887     0.999915       548964     11702.86
     998.911     0.999927       548971     13653.33
    1000.447     0.999939       548979     16384.00
    1000.959     0.999945       548984     18204.44
    1000.959     0.999951       548984     20480.00
    1001.983     0.999957       548987     23405.71
    1002.495     0.999963       548990     27306.67
    1004.031     0.999969       548995     32768.00
    1004.031     0.999973       548995     36408.89
    1004.543     0.999976       548999     40960.00
    1004.543     0.999979       548999     46811.43
    1005.055     0.999982       549002     54613.33
    1005.055     0.999985       549002     65536.00
    1005.567     0.999986       549003     72817.78
    1006.079     0.999988       549004     81920.00
    1006.591     0.999989       549008     93622.86
    1006.591     0.999991       549008    109226.67
    1006.591     0.999992       549008    131072.00
    1006.591     0.999993       549008    145635.56
    1006.591     0.999994       549008    163840.00
    1006.591     0.999995       549008    187245.71
    1006.591     0.999995       549008    218453.33
    1006.591     0.999996       549008    262144.00
    1007.103     0.999997       549010    291271.11
    1007.103     1.000000       549010          inf
[Mean    =       12.137, StdDeviation   =       77.555]  
[Max     =     1006.592, Total count    =       549010]  
[Buckets =           27, SubBuckets     =         2048]  
----------------------------------------------------------
599563 requests in 2.00m, 38.31MB read  
Requests/sec:   4996.34  
Transfer/sec:    326.91KB  


root@DESKTOP-E01FUOQ:~/wrk2# wrk -c 120 -t 3 -d 2m -R 10000 -L -s put.lua http://localhost:8080  
Running 2m test @ http://localhost:8080  
3 threads and 120 connections  
Thread calibration: mean lat.: 10.789ms, rate sampling interval: 41ms  
Thread calibration: mean lat.: 11.343ms, rate sampling interval: 40ms  
Thread calibration: mean lat.: 12.618ms, rate sampling interval: 48ms  
Thread Stats   Avg      Stdev     Max   +/- Stdev  
Latency    88.28ms  166.05ms   1.12s    85.19%  
Req/Sec     3.39k   671.41     8.70k    76.60%  
Latency Distribution (HdrHistogram - Recorded Latency)  
50.000%   12.49ms  
75.000%   43.94ms  
90.000%  366.33ms  
99.000%  691.71ms  
99.900%    1.02s  
99.990%    1.08s  
99.999%    1.11s  
100.000%    1.12s  

Detailed Percentile spectrum:    
Value   Percentile   TotalCount 1/(1-Percentile)  

       0.449     0.000000            1         1.00
       4.903     0.100000       108898         1.11
       6.595     0.200000       217953         1.25
       8.231     0.300000       326932         1.43
      10.063     0.400000       435536         1.67
      12.487     0.500000       544353         2.00
      14.167     0.550000       598737         2.22
      16.279     0.600000       653179         2.50
      19.279     0.650000       707655         2.86
      24.783     0.700000       762007         3.33
      43.935     0.750000       816358         4.00
      74.239     0.775000       843589         4.44
     120.447     0.800000       870786         5.00
     182.527     0.825000       897988         5.71
     249.471     0.850000       925214         6.67
     312.831     0.875000       952439         8.00
     339.967     0.887500       966128         8.89
     366.335     0.900000       979667        10.00
     391.935     0.912500       993356        11.43
     414.975     0.925000      1006979        13.33
     437.247     0.937500      1020523        16.00
     447.999     0.943750      1027274        17.78
     461.055     0.950000      1034119        20.00
     478.719     0.956250      1040870        22.86
     497.919     0.962500      1047664        26.67
     518.399     0.968750      1054473        32.00
     530.431     0.971875      1057969        35.56
     544.255     0.975000      1061328        40.00
     560.127     0.978125      1064749        45.71
     579.583     0.981250      1068075        53.33
     607.231     0.984375      1071463        64.00
     627.711     0.985938      1073197        71.11
     649.215     0.987500      1074875        80.00
     677.375     0.989062      1076592        91.43
     701.439     0.990625      1078276       106.67
     735.743     0.992188      1079982       128.00
     780.287     0.992969      1080827       142.22
     909.311     0.993750      1081684       160.00
     923.647     0.994531      1082535       182.86
     933.375     0.995313      1083399       213.33
     942.591     0.996094      1084241       256.00
     947.711     0.996484      1084684       284.44
     953.855     0.996875      1085104       320.00
     961.535     0.997266      1085511       365.71
     972.799     0.997656      1085922       426.67
     991.231     0.998047      1086345       512.00
     998.911     0.998242      1086580       568.89
    1003.007     0.998437      1086776       640.00
    1008.639     0.998633      1086988       731.43
    1012.735     0.998828      1087200       853.33
    1017.343     0.999023      1087421      1024.00
    1019.903     0.999121      1087514      1137.78
    1022.975     0.999219      1087635      1280.00
    1026.047     0.999316      1087735      1462.86
    1029.119     0.999414      1087837      1706.67
    1033.727     0.999512      1087944      2048.00
    1036.287     0.999561      1088012      2275.56
    1038.335     0.999609      1088050      2560.00
    1040.383     0.999658      1088100      2925.71
    1044.991     0.999707      1088159      3413.33
    1048.575     0.999756      1088209      4096.00
    1050.623     0.999780      1088235      4551.11
    1055.743     0.999805      1088263      5120.00
    1059.839     0.999829      1088289      5851.43
    1063.935     0.999854      1088312      6826.67
    1071.103     0.999878      1088338      8192.00
    1073.151     0.999890      1088352      9102.22
    1076.223     0.999902      1088367     10240.00
    1078.271     0.999915      1088377     11702.86
    1083.391     0.999927      1088395     13653.33
    1086.463     0.999939      1088409     16384.00
    1087.487     0.999945      1088416     18204.44
    1088.511     0.999951      1088418     20480.00
    1092.607     0.999957      1088428     23405.71
    1094.655     0.999963      1088433     27306.67
    1095.679     0.999969      1088438     32768.00
    1097.727     0.999973      1088443     36408.89
    1098.751     0.999976      1088445     40960.00
    1100.799     0.999979      1088447     46811.43
    1103.871     0.999982      1088452     54613.33
    1105.919     0.999985      1088454     65536.00
    1106.943     0.999986      1088456     72817.78
    1107.967     0.999988      1088457     81920.00
    1112.063     0.999989      1088460     93622.86
    1113.087     0.999991      1088464    109226.67
    1113.087     0.999992      1088464    131072.00
    1113.087     0.999993      1088464    145635.56
    1113.087     0.999994      1088464    163840.00
    1114.111     0.999995      1088465    187245.71
    1115.135     0.999995      1088466    218453.33
    1115.135     0.999996      1088466    262144.00
    1117.183     0.999997      1088467    291271.11
    1117.183     0.999997      1088467    327680.00
    1118.207     0.999997      1088468    374491.43
    1118.207     0.999998      1088468    436906.67
    1118.207     0.999998      1088468    524288.00
    1119.231     0.999998      1088469    582542.22
    1119.231     0.999998      1088469    655360.00
    1119.231     0.999999      1088469    748982.86
    1119.231     0.999999      1088469    873813.33
    1119.231     0.999999      1088469   1048576.00
    1121.279     0.999999      1088470   1165084.44
    1121.279     1.000000      1088470          inf
[Mean    =       88.278, StdDeviation   =      166.051]  
[Max     =     1120.256, Total count    =      1088470]  
[Buckets =           27, SubBuckets     =         2048]  
----------------------------------------------------------
1186384 requests in 2.00m, 75.81MB read  
Requests/sec:   9886.61  
Transfer/sec:    646.88KB   

----


./profiler.sh -d 90 -e lock -f hw4lock_get.html 712  
./profiler.sh -d 90 -e alloc -f hw4alloc_get.html 712    
./profiler.sh -d 90 -f hw4cpu_get.html 712  

# GET

По наполненной базе

root@DESKTOP-E01FUOQ:~/wrk2# wrk -c 120 -t 3 -d 2m -R 7000 -L -s get.lua http://localhost:8080  
Running 2m test @ http://localhost:8080  
3 threads and 120 connections  
Thread calibration: mean lat.: 10.585ms, rate sampling interval: 39ms  
Thread calibration: mean lat.: 10.872ms, rate sampling interval: 36ms  
Thread calibration: mean lat.: 10.079ms, rate sampling interval: 36ms  
Thread Stats   Avg      Stdev     Max   +/- Stdev  
Latency     6.15ms    3.65ms  49.44ms   76.00%  
Req/Sec     2.37k   326.39     4.46k    78.42%  
Latency Distribution (HdrHistogram - Recorded Latency)  
50.000%    5.56ms  
75.000%    7.70ms  
90.000%   10.39ms  
99.000%   19.12ms  
99.900%   29.47ms  
99.990%   41.41ms  
99.999%   46.62ms  
100.000%   49.47ms  

Detailed Percentile spectrum:  
Value   Percentile   TotalCount 1/(1-Percentile)  

       0.416     0.000000            1         1.00
       2.315     0.100000        76970         1.11
       3.245     0.200000       153757         1.25
       4.079     0.300000       230693         1.43
       4.835     0.400000       307447         1.67
       5.559     0.500000       384724         2.00
       5.927     0.550000       422877         2.22
       6.311     0.600000       461402         2.50
       6.719     0.650000       499631         2.86
       7.179     0.700000       538071         3.33
       7.699     0.750000       576544         4.00
       7.999     0.775000       595878         4.44
       8.335     0.800000       614985         5.00
       8.719     0.825000       634438         5.71
       9.159     0.850000       653523         6.67
       9.695     0.875000       672534         8.00
      10.023     0.887500       682251         8.89
      10.391     0.900000       691837        10.00
      10.823     0.912500       701403        11.43
      11.351     0.925000       711081        13.33
      11.967     0.937500       720605        16.00
      12.351     0.943750       725445        17.78
      12.775     0.950000       730242        20.00
      13.263     0.956250       735032        22.86
      13.823     0.962500       739833        26.67
      14.519     0.968750       744596        32.00
      14.911     0.971875       747018        35.56
      15.343     0.975000       749389        40.00
      15.871     0.978125       751805        45.71
      16.479     0.981250       754209        53.33
      17.167     0.984375       756613        64.00
      17.631     0.985938       757806        71.11
      18.175     0.987500       759014        80.00
      18.751     0.989062       760204        91.43
      19.407     0.990625       761421       106.67
      20.207     0.992188       762612       128.00
      20.655     0.992969       763199       142.22
      21.167     0.993750       763803       160.00
      21.791     0.994531       764419       182.86
      22.463     0.995313       765004       213.33
      23.263     0.996094       765604       256.00
      23.743     0.996484       765910       284.44
      24.303     0.996875       766206       320.00
      24.895     0.997266       766508       365.71
      25.567     0.997656       766804       426.67
      26.335     0.998047       767102       512.00
      26.927     0.998242       767254       568.89
      27.471     0.998437       767406       640.00
      28.047     0.998633       767553       731.43
      28.767     0.998828       767706       853.33
      29.599     0.999023       767853      1024.00
      30.047     0.999121       767930      1137.78
      30.495     0.999219       768008      1280.00
      31.279     0.999316       768079      1462.86
      32.287     0.999414       768153      1706.67
      33.311     0.999512       768232      2048.00
      33.759     0.999561       768266      2275.56
      34.687     0.999609       768305      2560.00
      35.519     0.999658       768343      2925.71
      36.191     0.999707       768378      3413.33
      37.503     0.999756       768418      4096.00
      38.175     0.999780       768436      4551.11
      38.943     0.999805       768453      5120.00
      39.615     0.999829       768472      5851.43
      40.447     0.999854       768492      6826.67
      41.151     0.999878       768510      8192.00
      41.311     0.999890       768519      9102.22
      41.407     0.999902       768528     10240.00
      41.503     0.999915       768538     11702.86
      41.663     0.999927       768549     13653.33
      41.855     0.999939       768557     16384.00
      42.015     0.999945       768562     18204.44
      42.303     0.999951       768567     20480.00
      42.719     0.999957       768571     23405.71
      43.231     0.999963       768575     27306.67
      44.159     0.999969       768580     32768.00
      44.543     0.999973       768582     36408.89
      44.735     0.999976       768585     40960.00
      44.991     0.999979       768587     46811.43
      45.183     0.999982       768589     54613.33
      45.503     0.999985       768592     65536.00
      45.663     0.999986       768593     72817.78
      46.175     0.999988       768594     81920.00
      46.623     0.999989       768595     93622.86
      46.975     0.999991       768596    109226.67
      48.191     0.999992       768598    131072.00
      48.191     0.999993       768598    145635.56
      48.575     0.999994       768600    163840.00
      48.575     0.999995       768600    187245.71
      48.575     0.999995       768600    218453.33
      48.671     0.999996       768601    262144.00
      48.671     0.999997       768601    291271.11
      48.671     0.999997       768601    327680.00
      48.671     0.999997       768601    374491.43
      49.151     0.999998       768602    436906.67
      49.151     0.999998       768602    524288.00
      49.151     0.999998       768602    582542.22
      49.151     0.999998       768602    655360.00
      49.151     0.999999       768602    748982.86
      49.471     0.999999       768603    873813.33
      49.471     1.000000       768603          inf
[Mean    =        6.153, StdDeviation   =        3.651]  
[Max     =       49.440, Total count    =       768603]  
[Buckets =           27, SubBuckets     =         2048]  
----------------------------------------------------------
837258 requests in 2.00m, 58.74MB read  
Requests/sec:   6976.46  
Transfer/sec:    501.20KB  

root@DESKTOP-E01FUOQ:~/wrk2# wrk -c 120 -t 3 -d 2m -R 9000 -L -s get.lua http://localhost:8080  
Running 2m test @ http://localhost:8080  
3 threads and 120 connections  
Thread calibration: mean lat.: 22.178ms, rate sampling interval: 98ms  
Thread calibration: mean lat.: 24.549ms, rate sampling interval: 107ms  
Thread calibration: mean lat.: 28.816ms, rate sampling interval: 136ms  
Thread Stats   Avg      Stdev     Max   +/- Stdev  
Latency    22.96ms   78.20ms   1.02s    96.90%  
Req/Sec     3.02k   257.17     5.00k    77.92%  
Latency Distribution (HdrHistogram - Recorded Latency)  
50.000%   10.31ms   
75.000%   15.26ms  
90.000%   23.07ms   
99.000%  443.14ms  
99.900%  951.81ms   
99.990%    1.01s  
99.999%    1.02s  
100.000%    1.02s  

Detailed Percentile spectrum:
Value   Percentile   TotalCount 1/(1-Percentile)

       0.496     0.000000            1         1.00
       4.831     0.100000        99023         1.11
       6.315     0.200000       197708         1.25
       7.607     0.300000       296503         1.43
       8.919     0.400000       395811         1.67
      10.311     0.500000       494566         2.00
      11.071     0.550000       543621         2.22
      11.919     0.600000       593211         2.50
      12.871     0.650000       642486         2.86
      13.959     0.700000       691773         3.33
      15.263     0.750000       741158         4.00
      16.031     0.775000       766033         4.44
      16.911     0.800000       790611         5.00
      17.951     0.825000       815567         5.71
      19.215     0.850000       840128         6.67
      20.831     0.875000       864785         8.00
      21.839     0.887500       877058         8.89
      23.071     0.900000       889372        10.00
      24.623     0.912500       901722        11.43
      26.671     0.925000       914078        13.33
      29.711     0.937500       926410        16.00
      31.983     0.943750       932578        17.78
      35.359     0.950000       938756        20.00
      41.471     0.956250       944929        22.86
      62.751     0.962500       951107        26.67
      99.647     0.968750       957285        32.00
     119.871     0.971875       960374        35.56
     139.391     0.975000       963459        40.00
     156.543     0.978125       966545        45.71
     172.927     0.981250       969639        53.33
     198.271     0.984375       972723        64.00
     233.343     0.985938       974264        71.11
     305.663     0.987500       975812        80.00
     397.823     0.989062       977353        91.43
     473.087     0.990625       978898       106.67
     563.711     0.992188       980441       128.00
     621.055     0.992969       981215       142.22
     674.303     0.993750       981989       160.00
     715.263     0.994531       982761       182.86
     744.959     0.995313       983531       213.33
     769.535     0.996094       984307       256.00
     785.919     0.996484       984689       284.44
     818.175     0.996875       985077       320.00
     849.407     0.997266       985463       365.71
     876.031     0.997656       985847       426.67
     896.511     0.998047       986237       512.00
     907.775     0.998242       986430       568.89
     921.599     0.998437       986623       640.00
     933.887     0.998633       986812       731.43
     943.615     0.998828       987007       853.33
     952.831     0.999023       987195      1024.00
     957.439     0.999121       987292      1137.78
     962.047     0.999219       987398      1280.00
     966.143     0.999316       987492      1462.86
     971.263     0.999414       987586      1706.67
     976.383     0.999512       987682      2048.00
     979.455     0.999561       987728      2275.56
     982.527     0.999609       987776      2560.00
     987.135     0.999658       987827      2925.71
     991.743     0.999707       987873      3413.33
     998.911     0.999756       987920      4096.00
    1002.495     0.999780       987953      4551.11
    1004.031     0.999805       987969      5120.00
    1005.055     0.999829       987991      5851.43
    1006.079     0.999854       988015      6826.67
    1008.127     0.999878       988041      8192.00
    1008.639     0.999890       988052      9102.22
    1009.151     0.999902       988064     10240.00
    1010.175     0.999915       988079     11702.86
    1011.199     0.999927       988092     13653.33
    1011.711     0.999939       988101     16384.00
    1012.223     0.999945       988107     18204.44
    1012.735     0.999951       988112     20480.00
    1013.759     0.999957       988123     23405.71
    1013.759     0.999963       988123     27306.67
    1014.271     0.999969       988134     32768.00
    1014.271     0.999973       988134     36408.89
    1015.295     0.999976       988140     40960.00
    1015.295     0.999979       988140     46811.43
    1015.807     0.999982       988144     54613.33
    1015.807     0.999985       988144     65536.00
    1016.831     0.999986       988149     72817.78
    1016.831     0.999988       988149     81920.00
    1016.831     0.999989       988149     93622.86
    1017.343     0.999991       988151    109226.67
    1017.855     0.999992       988153    131072.00
    1017.855     0.999993       988153    145635.56
    1017.855     0.999994       988153    163840.00
    1018.367     0.999995       988155    187245.71
    1018.367     0.999995       988155    218453.33
    1018.879     0.999996       988156    262144.00
    1018.879     0.999997       988156    291271.11
    1018.879     0.999997       988156    327680.00
    1019.903     0.999997       988157    374491.43
    1019.903     0.999998       988157    436906.67
    1020.415     0.999998       988158    524288.00
    1020.415     0.999998       988158    582542.22
    1020.415     0.999998       988158    655360.00
    1020.415     0.999999       988158    748982.86
    1020.415     0.999999       988158    873813.33
    1021.951     0.999999       988159   1048576.00
    1021.951     1.000000       988159          inf
#[Mean    =       22.956, StdDeviation   =       78.199]
#[Max     =     1021.440, Total count    =       988159]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
1079050 requests in 2.00m, 75.80MB read
Requests/sec:   8992.06
Transfer/sec:    646.86KB


# ВЫВОДЫ:

Get стал, кажется, лучше, раньше на 7000 L, он выдавал по секундам результаты в 100%, 99.9% было
за 300мс. На 9000 так же осталось, что 99 где-то около 300мс или больше, т.е где-то макс, что может выдерживать,
это около 7000-8000 L. Put не изменился, а может даже ухудшился. Хотя он сам по себе быстрый,
возможно это связано из-за флашей. Так же нельзя исключать то, что реализация, может, не так хороша, 
т.к локи остались, но можно ли от них избавиться полностью, они в основном на Future.complete итд.


Locks: 
В основном теперь локи на возвращении в пул потоков, получение конекшена, обработка запросов в httpclient,
так же локи в accept, где блокируемся, чтобы отправить запрос, но при этом потоки, которые отвечают за обработку
request'ов не блочатся, в гет похожая ситуация. Нет локов, которые были у этих же потоков.

Cpu's:
В cpu graph'ах можно заметить, что появились спин локи, которые появляются в ConnectionPool(httpClient).
Так же можно заметить, что убавилось ширина(длина) системных вызовов, т.е не так много там проводится время.

Allocs:
Первое, что можно заметить по сравнению с прошлыми этапами, где был one.nio.HttpClient, нет огромных
аллокаций массивов байт.


## Put:
[cpu_put](hw6cpu_put.html)
[alloc_put](hw6alloc_put.html)
[lock_put](hw6lock_put.html)


## Get:
[cpu_get](hw6cpu_get.html)
[alloc_get](hw6alloc_get.html)
[lock_get](hw6lock_get.html)

#Второе изменение

root@DESKTOP-E01FUOQ:~/wrk2# wrk -c 120 -t 3 -d 7m -R 7000 -L -s put.lua http://localhost:8080  
Running 7m test @ http://localhost:8080  
3 threads and 120 connections  
Thread calibration: mean lat.: 6.700ms, rate sampling interval: 27ms  
Thread calibration: mean lat.: 6.971ms, rate sampling interval: 30ms  
Thread calibration: mean lat.: 6.851ms, rate sampling interval: 30ms  
Thread Stats   Avg      Stdev     Max   +/- Stdev    
Latency    13.11ms   39.37ms 690.69ms   97.00%  
Req/Sec     2.39k   595.29     6.63k    78.86%  
Latency Distribution (HdrHistogram - Recorded Latency)  
50.000%    5.00ms  
75.000%   10.12ms  
90.000%   22.56ms  
99.000%  186.24ms  
99.900%  530.94ms  
99.990%  620.03ms  
99.999%  667.65ms  
100.000%  691.20ms  

Detailed Percentile spectrum:  
Value   Percentile   TotalCount 1/(1-Percentile)  

       0.310     0.000000            1         1.00
       1.937     0.100000       286957         1.11
       2.601     0.200000       573986         1.25
       3.267     0.300000       861058         1.43
       4.035     0.400000      1147723         1.67
       5.003     0.500000      1435282         2.00
       5.607     0.550000      1578310         2.22
       6.339     0.600000      1721404         2.50
       7.259     0.650000      1864854         2.86
       8.471     0.700000      2008390         3.33
      10.119     0.750000      2151769         4.00
      11.191     0.775000      2223236         4.44
      12.511     0.800000      2295003         5.00
      14.151     0.825000      2366791         5.71
      16.207     0.850000      2438297         6.67
      18.863     0.875000      2510013         8.00
      20.543     0.887500      2545873         8.89
      22.559     0.900000      2581734        10.00
      25.023     0.912500      2617645        11.43
      28.079     0.925000      2653526        13.33
      31.967     0.937500      2689292        16.00
      34.399     0.943750      2707280        17.78
      37.183     0.950000      2725160        20.00
      40.543     0.956250      2743180        22.86
      44.863     0.962500      2761014        26.67
      51.039     0.968750      2778979        32.00
      55.327     0.971875      2787915        35.56
      61.055     0.975000      2796868        40.00
      69.503     0.978125      2805870        45.71
      82.815     0.981250      2814796        53.33
     105.599     0.984375      2823754        64.00
     123.071     0.985938      2828243        71.11
     143.743     0.987500      2832720        80.00
     167.935     0.989062      2837198        91.43
     200.063     0.990625      2841683       106.67
     236.543     0.992188      2846164       128.00
     254.847     0.992969      2848418       142.22
     275.711     0.993750      2850664       160.00
     302.847     0.994531      2852891       182.86
     345.343     0.995313      2855139       213.33
     390.655     0.996094      2857381       256.00
     410.111     0.996484      2858503       284.44
     428.287     0.996875      2859611       320.00
     447.743     0.997266      2860736       365.71
     465.151     0.997656      2861851       426.67
     483.327     0.998047      2862976       512.00
     492.287     0.998242      2863530       568.89
     501.759     0.998437      2864106       640.00
     510.975     0.998633      2864654       731.43
     521.727     0.998828      2865215       853.33
     532.479     0.999023      2865791      1024.00
     538.623     0.999121      2866074      1137.78
     544.255     0.999219      2866339      1280.00
     549.887     0.999316      2866616      1462.86
     556.543     0.999414      2866905      1706.67
     563.711     0.999512      2867174      2048.00
     567.807     0.999561      2867314      2275.56
     572.927     0.999609      2867470      2560.00
     577.535     0.999658      2867599      2925.71
     583.167     0.999707      2867742      3413.33
     588.799     0.999756      2867880      4096.00
     591.871     0.999780      2867948      4551.11
     595.455     0.999805      2868012      5120.00
     600.575     0.999829      2868082      5851.43
     606.719     0.999854      2868158      6826.67
     611.839     0.999878      2868225      8192.00
     616.447     0.999890      2868257      9102.22
     620.543     0.999902      2868292     10240.00
     624.639     0.999915      2868327     11702.86
     629.247     0.999927      2868365     13653.33
     635.391     0.999939      2868398     16384.00
     637.951     0.999945      2868416     18204.44
     641.023     0.999951      2868432     20480.00
     645.119     0.999957      2868451     23405.71
     648.191     0.999963      2868468     27306.67
     653.311     0.999969      2868486     32768.00
     654.335     0.999973      2868494     36408.89
     657.919     0.999976      2868503     40960.00
     659.455     0.999979      2868516     46811.43
     660.991     0.999982      2868521     54613.33
     664.575     0.999985      2868530     65536.00
     665.087     0.999986      2868534     72817.78
     665.599     0.999988      2868537     81920.00
     666.623     0.999989      2868542     93622.86
     669.183     0.999991      2868547    109226.67
     670.207     0.999992      2868551    131072.00
     671.231     0.999993      2868553    145635.56
     673.279     0.999994      2868556    163840.00
     673.791     0.999995      2868557    187245.71
     674.815     0.999995      2868559    218453.33
     677.375     0.999996      2868562    262144.00
     677.887     0.999997      2868563    291271.11
     678.399     0.999997      2868564    327680.00
     680.447     0.999997      2868565    374491.43
     681.983     0.999998      2868567    436906.67
     681.983     0.999998      2868567    524288.00
     683.519     0.999998      2868568    582542.22
     683.519     0.999998      2868568    655360.00
     685.055     0.999999      2868569    748982.86
     685.055     0.999999      2868569    873813.33
     689.663     0.999999      2868570   1048576.00
     689.663     0.999999      2868570   1165084.44
     689.663     0.999999      2868570   1310720.00
     690.175     0.999999      2868571   1497965.71
     690.175     0.999999      2868571   1747626.67
     690.175     1.000000      2868571   2097152.00
     690.175     1.000000      2868571   2330168.89
     690.175     1.000000      2868571   2621440.00
     691.199     1.000000      2868572   2995931.43
     691.199     1.000000      2868572          inf
[Mean    =       13.108, StdDeviation   =       39.372]  
[Max     =      690.688, Total count    =      2868572]  
[Buckets =           27, SubBuckets     =         2048]  
----------------------------------------------------------
2939340 requests in 7.00m, 187.81MB read  
Requests/sec:   6998.42  
Transfer/sec:    457.90KB  


После изменений практически ничего не изменилось, все так get все так же выдерживает те же цифры,
put для 7к стал получше.
Был изменен ThreadPoolExecutore -> ForkJoinPool, соответственно поменялись графики чуть-чуть, теперь там видел FJP, а так
все остальное практически то же самое


## Put:
[cpu_put](second/hw63cpu_put.html)
[alloc_put](second/hw63alloc_put.html)
[lock_put](second/hw63lock_put.html)


## Get:
[cpu_get](second/hw63cpu_get.html)
[alloc_get](second/hw63alloc_get.html)
[lock_get](second/hw63lock_get.html)


